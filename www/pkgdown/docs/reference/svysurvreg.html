<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fit accelerated failure models to survey data — svysurvreg • survey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Fit accelerated failure models to survey data — svysurvreg"><meta property="og:description" content="This function calls survreg from the 'survival' package to fit accelerated failure (accelerated life) models to complex survey data, and then computes correct standard errors by linearisation.  It has the same arguments as survreg, except that the second argument is design rather than data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit accelerated failure models to survey data</h1>
    
    <div class="hidden name"><code>svysurvreg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calls <code>survreg</code> from the 'survival' package to fit accelerated failure (accelerated life) models to complex survey data, and then computes correct standard errors by linearisation.  It has the same arguments as <code>survreg</code>, except that the second argument is <code>design</code> rather than <code>data</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for survey.design</span></span>
<span><span class="fu">svysurvreg</span><span class="op">(</span><span class="va">formula</span>, <span class="va">design</span>, weights<span class="op">=</span><span class="cn">NULL</span>, subset<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>formula</dt>
<dd><p>Model formula</p></dd>

  <dt>design</dt>
<dd><p>Survey design object, including two-phase designs</p></dd>

<dt>weights</dt>
<dd><p>Additional weights to multiply by the sampling weights. No, I don't know why you'd want to do that.</p></dd>

  <dt>subset</dt>
<dd><p>subset to use in fitting (if needed)</p></dd>


  <dt>...</dt>
<dd><p>Other arguments of <code>survreg</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Object of class <code>svysurvreg</code>, with the same structure as a <code>survreg</code> object but with <code>NA</code> for the loglikelihood.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The <code>residuals</code> method is identical to that for <code>survreg</code> objects except the <code>weighted</code> option defaults to <code>TRUE</code></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pbc</span>, package<span class="op">=</span><span class="st">"survival"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">pbc</span><span class="op">$</span><span class="va">randomized</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">pbc</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">trt</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">trt</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">biasmodel</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">randomized</span><span class="op">~</span><span class="va">age</span><span class="op">*</span><span class="va">edema</span>,data<span class="op">=</span><span class="va">pbc</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">pbc</span><span class="op">$</span><span class="va">randprob</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted</a></span><span class="op">(</span><span class="va">biasmodel</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">dpbc</span><span class="op">&lt;-</span><span class="fu"><a href="svydesign.html">svydesign</a></span><span class="op">(</span>id<span class="op">=</span><span class="op">~</span><span class="fl">1</span>, prob<span class="op">=</span><span class="op">~</span><span class="va">randprob</span>, strata<span class="op">=</span><span class="op">~</span><span class="va">edema</span>,</span></span>
<span class="r-in"><span>    data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">pbc</span>,<span class="va">randomized</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">svysurvreg</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span><span class="op">~</span><span class="va">bili</span><span class="op">+</span><span class="va">protime</span><span class="op">+</span><span class="va">albumin</span>, design<span class="op">=</span><span class="va">dpbc</span>, dist<span class="op">=</span><span class="st">"weibull"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> svysurvreg(formula = Surv(time, status &gt; 0) ~ bili + protime + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     albumin, design = dpbc, dist = "weibull")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Value Std. Error     z       p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  7.33162    0.77621  9.45 &lt; 2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bili        -0.07817    0.00879 -8.90 &lt; 2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> protime     -0.17644    0.05971 -2.96  0.0031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> albumin      0.85167    0.14232  5.98 2.2e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Log(scale)  -0.42104    0.06142 -6.86 7.1e-12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Scale= 0.656 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weibull distribution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Loglik(model)= NA   Loglik(intercept only)= NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Chisq=  on 3 degrees of freedom, p=  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Newton-Raphson Iterations: 6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n= 312 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by “Thomas Lumley”.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

