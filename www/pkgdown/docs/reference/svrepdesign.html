<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Specify survey design with replicate weights — svrepdesign • survey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Specify survey design with replicate weights — svrepdesign"><meta property="og:description" content="Some recent large-scale surveys specify replication weights rather than
the sampling design (partly for privacy reasons).  This function specifies the
data structure for such a survey."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify survey design with replicate weights</h1>
    
    <div class="hidden name"><code>svrepdesign.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Some recent large-scale surveys specify replication weights rather than
the sampling design (partly for privacy reasons).  This function specifies the
data structure for such a survey.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">svrepdesign</span><span class="op">(</span><span class="va">variables</span> , <span class="va">repweights</span> , <span class="va">weights</span>, <span class="va">data</span>,<span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">svrepdesign</span><span class="op">(</span>variables <span class="op">=</span> <span class="cn">NULL</span>, repweights <span class="op">=</span> <span class="cn">NULL</span>, weights <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>   data <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BRR"</span>, <span class="st">"Fay"</span>, <span class="st">"JK1"</span>,<span class="st">"JKn"</span>,<span class="st">"bootstrap"</span>,</span>
<span>   <span class="st">"ACS"</span>,<span class="st">"successive-difference"</span>,<span class="st">"JK2"</span>,<span class="st">"other"</span><span class="op">)</span>,</span>
<span>   combined.weights<span class="op">=</span><span class="cn">TRUE</span>, rho <span class="op">=</span> <span class="cn">NULL</span>, bootstrap.average<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>   scale<span class="op">=</span><span class="cn">NULL</span>, rscales<span class="op">=</span><span class="cn">NULL</span>,fpc<span class="op">=</span><span class="cn">NULL</span>, fpctype<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fraction"</span>,<span class="st">"correction"</span><span class="op">)</span>,</span>
<span>   mse<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"survey.replicates.mse"</span><span class="op">)</span>,<span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for imputationList</span></span>
<span><span class="fu">svrepdesign</span><span class="op">(</span>variables<span class="op">=</span><span class="cn">NULL</span>, <span class="va">repweights</span>,<span class="va">weights</span>,<span class="va">data</span>,</span>
<span>   mse<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"survey.replicates.mse"</span><span class="op">)</span>,<span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for character</span></span>
<span><span class="fu">svrepdesign</span><span class="op">(</span>variables<span class="op">=</span><span class="cn">NULL</span>,repweights<span class="op">=</span><span class="cn">NULL</span>, weights<span class="op">=</span><span class="cn">NULL</span>,data<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BRR"</span>,<span class="st">"Fay"</span>,<span class="st">"JK1"</span>, <span class="st">"JKn"</span>,<span class="st">"bootstrap"</span>,<span class="st">"ACS"</span>,<span class="st">"successive-difference"</span>,<span class="st">"JK2"</span>,<span class="st">"other"</span><span class="op">)</span>,</span>
<span>combined.weights<span class="op">=</span><span class="cn">TRUE</span>, rho<span class="op">=</span><span class="cn">NULL</span>, bootstrap.average<span class="op">=</span><span class="cn">NULL</span>, scale<span class="op">=</span><span class="cn">NULL</span>,rscales<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>fpc<span class="op">=</span><span class="cn">NULL</span>,fpctype<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fraction"</span>,<span class="st">"correction"</span><span class="op">)</span>,mse<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"survey.replicates.mse"</span><span class="op">)</span>,</span>
<span> dbtype<span class="op">=</span><span class="st">"SQLite"</span>, <span class="va">dbname</span>,<span class="va">...</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># S3 method for svyrep.design</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>,</span>
<span>         col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.5</span>,<span class="fl">1</span>,length<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span>, type.<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep"</span>,<span class="st">"total"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>variables</dt>
<dd><p>formula or data frame specifying variables to include in the design (default is all)</p></dd>

  <dt>repweights</dt>
<dd><p>formula or data frame specifying replication weights, or character string specifying a regular expression that matches the names of the replication weight variables</p></dd>

  <dt>weights</dt>
<dd><p>sampling weights</p></dd>

  <dt>data</dt>
<dd><p>data frame to look up variables in formulas, or character string giving name of database table</p></dd>

  <dt>type</dt>
<dd><p>Type of replication weights</p></dd>

  <dt>combined.weights</dt>
<dd><p><code>TRUE</code> if the <code>repweights</code> already
    include the sampling weights. This is usually the case.</p></dd>

  <dt>rho</dt>
<dd><p>Shrinkage factor for weights in Fay's method</p></dd>

  <dt>bootstrap.average</dt>
<dd><p>For <code>type="bootstrap"</code>, if the bootstrap
    weights have been averaged, gives the number of iterations averaged over</p></dd>

  <dt>scale, rscales</dt>
<dd><p>Scaling constant for variance, see Details
below</p></dd>

<dt>fpc,fpctype</dt>
<dd><p>Finite population correction information</p></dd>

<dt>mse</dt>
<dd><p>If <code>TRUE</code>, compute variances based on sum of squares
  around the point estimate, rather than the mean of the replicates</p></dd>

<dt>dbname</dt>
<dd><p>name of database, passed to <code><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">DBI::dbConnect()</a></code></p></dd>

<dt>dbtype</dt>
<dd><p>Database driver: see Details</p></dd>

<dt>x</dt>
<dd><p>survey design with replicate weights</p></dd>

<dt>...</dt>
<dd><p>Other arguments to <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></code></p></dd>

<dt>col</dt>
<dd><p>Colors</p></dd>

<dt>type.</dt>
<dd><p><code>"rep"</code> for only the replicate weights, <code>"total"</code> for the replicate and sampling weights combined.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>In the BRR method, the dataset is split into halves, and the
  difference between halves is used to estimate the variance. In Fay's
  method, rather than removing observations from half the sample they
  are given weight <code>rho</code> in one half-sample and <code>2-rho</code> in the
  other.  The ideal BRR analysis is restricted to a design where each
  stratum has two PSUs, however, it has been used in a much wider class
  of surveys. The <code>scale</code> and <code>rscales</code>
 arguments will be ignored (with a warning) if they are specified.</p>  
<p>The JK1 and JKn types are both jackknife estimators deleting one
  cluster at a time. JKn is designed for stratified and JK1 for
  unstratified designs.</p>
<p>The successive-difference weights in the American Community Survey
 automatically use <code>scale = 4/ncol(repweights)</code> and <code>rscales=rep(1,
   ncol(repweights))</code>. This can be specified as <code>type="ACS"</code> or
 <code>type="successive-difference"</code>. The <code>scale</code> and <code>rscales</code>
 arguments will be ignored (with a warning) if they are specified.</p>
<p>JK2 weights (<code>type="JK2"</code>), as in the California Health Interview
 Survey, automatically use <code>scale=1</code>,  <code>rscales=rep(1, ncol(repweights))</code>.
 The <code>scale</code> and <code>rscales</code>
 arguments will be ignored (with a warning) if they are specified.</p>
<p>Averaged bootstrap weights ("mean bootstrap") are used for some
  surveys from Statistics Canada. Yee et al (1999) describe their
  construction and use for one such survey.</p>  
<p>The variance is computed as the sum of squared deviations of the
  replicates from their mean.  This may be rescaled: <code>scale</code> is an
  overall multiplier and <code>rscales</code> is a vector of
  replicate-specific multipliers for the squared deviations. That is,
  <code>rscales</code> should have one entry for each column of <code>repweights</code>
  If thereplication weights incorporate the sampling weights
  (<code>combined.weights=TRUE</code>) or for <code>type="other"</code> these must
  be specified, otherwise they can be guessed from the weights.</p>
<p>A finite population correction may be specified for <code>type="other"</code>,
  <code>type="JK1"</code> and <code>type="JKn"</code>.  <code>fpc</code> must be a vector
  with one entry for each replicate. To specify sampling fractions use
  <code>fpctype="fraction"</code> and to specify the correction directly use
  <code>fpctype="correction"</code></p>
<p><code>repweights</code> may be a character string giving a regular expression
 for the replicate weight variables. For example, in the
California Health Interview Survey public-use data, the sampling weights are
<code>"rakedw0"</code> and the replicate weights are <code>"rakedw1"</code> to
<code>"rakedw80"</code>.  The regular expression <code>"rakedw[1-9]"</code>
matches the replicate weight variables (and not the sampling weight
variable).</p>
<p><code>data</code> may be a character string giving the name of a table or view
in a relational database that can be accessed through the <code>DBI</code> 
interface. For DBI interfaces <code>dbtype</code> should be the name of the database
driver and <code>dbname</code> should be the name by which the driver identifies
the specific database (eg file name for SQLite).</p>
<p>The appropriate database interface package must already be loaded (eg
<code>RSQLite</code> for SQLite).  The survey design
object will contain the replicate weights, but actual variables will
be loaded from the database only as needed.  Use
<code><a href="open.DBIsvydesign.html">close</a></code> to close the database connection and
<code><a href="open.DBIsvydesign.html">open</a></code> to reopen the connection, eg, after
loading a saved object.</p>
<p>The database interface does not attempt to modify the underlying
database and so can be used with read-only permissions on the database.</p> 

<p>To generate your own replicate weights either use
  <code><a href="as.svrepdesign.html">as.svrepdesign</a></code> on a <code>survey.design</code> object, or see
  <code><a href="brrweights.html">brrweights</a></code>, <code><a href="bootweights.html">bootweights</a></code>,
  <code><a href="brrweights.html">jk1weights</a></code> and <code><a href="brrweights.html">jknweights</a></code></p>  
<p>The <code>model.frame</code> method extracts the observed data.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    

<p>Object of class <code>svyrep.design</code>, with methods for <code>print</code>,</p>
<p></p>
<p><code>summary</code>, <code>weights</code>, <code>image</code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Levy and Lemeshow. "Sampling of Populations". Wiley.</p>
<p>Shao and Tu. "The Jackknife and Bootstrap." Springer.</p>
<p>Yee et al (1999). Bootstrat Variance Estimation for the National
    Population Health Survey. Proceedings of the ASA Survey Research
    Methodology Section. <a href="https://web.archive.org/web/20151110170959/http://www.amstat.org/sections/SRMS/Proceedings/papers/1999_136.pdf" class="external-link">https://web.archive.org/web/20151110170959/http://www.amstat.org/sections/SRMS/Proceedings/papers/1999_136.pdf</a></p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>To use replication-weight analyses on a survey specified by
  sampling design, use <code>as.svrepdesign</code> to convert it.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="as.svrepdesign.html">as.svrepdesign</a></code>, <code><a href="svydesign.html">svydesign</a></code>,
  <code><a href="brrweights.html">brrweights</a></code>, <code>bootweights</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">scd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># use BRR replicate weights from Levy and Lemeshow</span></span></span>
<span class="r-in"><span><span class="va">repweights</span><span class="op">&lt;-</span><span class="fl">2</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scdrep</span><span class="op">&lt;-</span><span class="fu">svrepdesign</span><span class="op">(</span>data<span class="op">=</span><span class="va">scd</span>, type<span class="op">=</span><span class="st">"BRR"</span>, repweights<span class="op">=</span><span class="va">repweights</span>, combined.weights<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>No sampling weights provided: equal probability assumed</span>
<span class="r-in"><span><span class="fu"><a href="svyratio.html">svyratio</a></span><span class="op">(</span><span class="op">~</span><span class="va">alive</span>, <span class="op">~</span><span class="va">arrests</span>, <span class="va">scdrep</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ratio estimator: svyratio.svyrep.design(~alive, ~arrests, scdrep)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ratios=</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         arrests</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alive 0.1535064</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SEs=</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.009418401</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Needs RSQLite</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsqlite.r-dbi.org" class="external-link">RSQLite</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">db_rclus1</span><span class="op">&lt;-</span><span class="fu">svrepdesign</span><span class="op">(</span>weights<span class="op">=</span><span class="op">~</span><span class="va">pw</span>, repweights<span class="op">=</span><span class="st">"wt[1-9]+"</span>, type<span class="op">=</span><span class="st">"JK1"</span>, scale<span class="op">=</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="fl">15</span><span class="op">/</span><span class="fl">757</span><span class="op">)</span><span class="op">*</span><span class="fl">14</span><span class="op">/</span><span class="fl">15</span>,</span></span>
<span class="r-in"><span>data<span class="op">=</span><span class="st">"apiclus1rep"</span>,dbtype<span class="op">=</span><span class="st">"SQLite"</span>, dbname<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"api.db"</span>,package<span class="op">=</span><span class="st">"survey"</span><span class="op">)</span>, combined<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="surveysummary.html">svymean</a></span><span class="op">(</span><span class="op">~</span><span class="va">api00</span><span class="op">+</span><span class="va">api99</span>,<span class="va">db_rclus1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">db_rclus1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## closing and re-opening a connection</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">db_rclus1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">db_rclus1</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="surveysummary.html">svymean</a></span><span class="op">(</span><span class="op">~</span><span class="va">api00</span><span class="op">+</span><span class="va">api99</span>,<span class="va">db_rclus1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">db_rclus1</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">open</a></span><span class="op">(</span><span class="va">db_rclus1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="surveysummary.html">svymean</a></span><span class="op">(</span><span class="op">~</span><span class="va">api00</span><span class="op">+</span><span class="va">api99</span>,<span class="va">db_rclus1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by “Thomas Lumley”.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

