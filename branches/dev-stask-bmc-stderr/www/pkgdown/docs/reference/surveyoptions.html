<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Options for the survey package — surveyoptions • survey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Options for the survey package — surveyoptions"><meta property="og:description" content="This help page documents the options that control the behaviour of
  the survey package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Options for the survey package</h1>
    
    <div class="hidden name"><code>surveyoptions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This help page documents the options that control the behaviour of
  the survey package.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>All the options for the survey package have names beginning with
    "survey".  Four of them control standard error estimation.</p>
<p><code>options("survey.replicates.mse")</code> controls the default in
    <code>svrepdesign</code> and <code>as.svrepdesign</code> for computing
    variances. When <code>options("survey.replicates.mse")</code> is
    <code>TRUE</code>, the default is to create replicate weight designs that
    compute variances centered at the point estimate, rather than at the
    mean of the replicates.  The option can be overridden by specifying
    the <code>mse</code> argument explicitly in <code>svrepdesign</code> and
    <code>as.svrepdesign</code>. The default is <code>FALSE</code>.</p>  
<p>When <code>options("survey.ultimate.cluster")</code> is <code>TRUE</code>,
    standard error estimation is based on independence of PSUs at the
    first stage of sampling, without using any information about
    subsequent stages. When <code>FALSE</code>, finite population corrections
    and variances are estimated recursively. See <code><a href="svyrecvar.html">svyrecvar</a></code>
    for more information. This option makes no difference unless
    first-stage finite population corrections are specified, in which
    case setting the option to <code>TRUE</code> gives the wrong answer for a
    multistage study. The only reason to use <code>TRUE</code> is for
    compatibility with other software that gives the wrong answer.</p>    
<p>Handling of strata with a single PSU that are not certainty PSUs is
    controlled by <code>options("survey.lonely.psu")</code>. The default
    setting is <code>"fail"</code>, which gives an error. Use <code>"remove"</code>
    to ignore that PSU for variance computation, <code>"adjust"</code> to
    center the stratum at the population mean rather than the stratum
    mean, and <code>"average"</code> to replace the variance contribution of
    the stratum by the average variance contribution across strata. As
    of version 3.4-2 <code>as.svrepdesign</code> also uses this option.</p>    
<p>The variance formulas for domain estimation give well-defined,
    positive results when a stratum contains only one PSU with
    observations in the domain, but are not unbiased.  If
    <code>options("survey.adjust.domain.lonely")</code> is <code>TRUE</code> and
    <code>options("survey.lonely.psu")</code> is <code>"average"</code> or
    <code>"adjust"</code> the same adjustment for lonely PSUs will be used
    within a domain. Note that this adjustment is not available for
    replicate-weight designs, nor (currently) for raked,
    post-stratified, or calibrated designs.</p>    
<p>The fourth option is <code>options("survey.want.obsolete")</code>. This
    controls the warnings about using the deprecated pre-2.9.0 survey
    design objects.</p>
<p>The behaviour of replicate-weight designs for self-representing
    strata is controlled by <code>options("survey.drop.replicates")</code>.
    When <code>TRUE</code>, various optimizations are used that take advantage
    of the fact that these strata do not contribute to the variance.
    The only reason ever to use <code>FALSE</code> is if there is a bug in
    the code for these optimizations.</p>
<p>The fifth option controls the use of multiple processors with the
    <code>multicore</code> package. This option should not affect the values
    computed by any of the survey functions.  If <code>TRUE</code>, all
    functions that are able to use multiple processors will do so by
    default. Using multiple processors may speed up calculations, but
    need not, especially if the computer is short on memory. The best
    strategy is probably to experiment with explicitly requesting
    <code>multicore=TRUE</code> in functions that support it, to see if there
    is an increase in speed before setting the global option.</p>    
<p></p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by “Thomas Lumley”.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

